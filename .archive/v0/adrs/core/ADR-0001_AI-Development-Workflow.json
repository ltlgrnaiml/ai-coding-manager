{
  "schema_type": "adr",
  "id": "ADR-0001",
  "title": "AI Development Workflow Orchestration",
  "status": "active",
  "date": "2025-12-30",
  "author": "AI Dev Orchestrator Team",
  "context": {
    "description": "Structured spec-driven development with explicit planning phases significantly improves AI-assisted code quality and reduces rework.",
    "problem": "Need a structured workflow that captures design conversations, breaks work into verifiable fragments, tracks execution across sessions, and enforces verification gates."
  },
  "decision": {
    "summary": "Implement a 6-tier hierarchical AI Development Workflow with Discussion, Decision (ADR), Specification (SPEC), Contract, Plan, and Fragment tiers.",
    "plan_granularity_levels": {
      "description": "Plans support tiered granularity matched to model capability. Evidence from EXP-001 showed L3 reduced code variation from 39% to 19%.",
      "levels": {
        "L1_STANDARD": {
          "target_models": ["Claude Opus", "Claude Sonnet", "GPT-5.2", "Gemini Pro"],
          "description": "Context + verification commands. Premium models handle ambiguity.",
          "verification_on_failure": "log_and_continue"
        },
        "L2_ENHANCED": {
          "target_models": ["GPT-5.1", "Gemini Pro"],
          "description": "L1 + explicit constraints, hints, and negative examples.",
          "verification_on_failure": "log_and_continue_with_caution"
        },
        "L3_PROCEDURAL": {
          "target_models": ["Claude Haiku", "Gemini Flash", "Grok Code Fast", "GPT-4o-mini"],
          "description": "L2 + step-by-step instructions with copy-paste code snippets.",
          "verification_on_failure": "stop_and_escalate"
        }
      }
    },
    "l3_chunking_protocol": {
      "description": "L3 plans are chunked for smaller context windows.",
      "chunk_limits": {
        "target_lines": 600,
        "soft_limit_lines": 800
      },
      "chunk_structure": {
        "index_file": ".plans/L3/<PLAN>/INDEX.json",
        "chunk_files": ".plans/L3/<PLAN>/PLAN-XXX_L3_<chunk>.json"
      },
      "continuation_context": {
        "fields": ["files_created", "files_modified", "architecture_rules", "patterns_established", "active_blockers"]
      },
      "execution_history": {
        "purpose": "Track which model executed each chunk",
        "model_self_report": true
      },
      "session_required": true
    }
  },
  "consequences": {
    "positive": [
      "Consistent, traceable development process",
      "Reduced rework from incomplete implementations",
      "Clear handoff between AI sessions",
      "Budget models achieve premium-quality results with L3 plans"
    ],
    "negative": [
      "Additional overhead for small changes",
      "L3 plans require more authoring effort"
    ]
  },
  "references": [
    "EXP-001: L1 vs L3 Granularity Experiment",
    "engineering-tools ADR-0041"
  ],
  "tags": ["workflow", "ai-assisted", "spec-driven", "planning", "verification", "l3-chunking"]
}
